<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Finance Tracker</title>
    <link rel="stylesheet" href="styles/main.css">
    <script src="scripts/main.js" type="module" defer></script>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header class="main-header">
        <h1>Student Finance Tracker</h1>
        <nav>
            <ul class="nav-links">
                <li><a href="#dashboard" class="nav-link active" data-section="dashboard">Dashboard</a></li>
                <li><a href="#settings" class="nav-link" data-section="settings">Settings</a></li>
                <li><a href="#about" class="nav-link" data-section="about">About</a></li>
            </ul>
        </nav>
    </header>

    <main id="main-content">
        <section id="dashboard" class="content-section">
            <h2>Dashboard</h2>
            <div class="stats-container">
                <div class="stat-card">
                    <h3>Total Spent</h3>
                    <p id="stats-total-spent">$0.00</p>
                </div>
                <div class="stat-card">
                    <h3>Transactions</h3>
                    <p id="stats-total-records">0</p>
                </div>
                <div class="stat-card">
                    <h3>Top Category</h3>
                    <p id="stats-top-category">N/A</p>
                </div>
                <div class="stat-card budget-card">
                    <h3>Budget Status</h3>
                    <p id="stats-budget-status">No cap set.</p>
                    <div id="budget-live-region" aria-live="polite"></div>
                </div>
            </div>

            <div class="controls-container">
                <div class="search-box">
                    <label for="search-input">Regex Search:</label>
                    <input type="text" id="search-input" placeholder="\b(coffee|book)\b">
                    <div class="search-options">
                        <input type="checkbox" id="case-sensitive-toggle">
                        <label for="case-sensitive-toggle">Case-Sensitive</label>
                    </div>
                </div>
                <button id="add-transaction-btn" class="button-primary">Add Transaction</button>
            </div>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th data-sort="description">Description</th>
                            <th data-sort="category">Category</th>
                            <th data-sort="date">Date</th>
                            <th data-sort="amount">Amount</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="transactions-tbody">
                        </tbody>
                </table>
            </div>
        </section>

        <section id="settings" class="content-section" hidden>
            <h2>Settings</h2>
            <div class="setting-card">
                <h3>Budget Cap</h3>
                <label for="budget-cap-input">Set Monthly Budget ($)</label>
                <input type="number" id="budget-cap-input" placeholder="e.g., 500" min="0">
                <button id="save-settings-btn" class="button-primary">Save Settings</button>
            </div>
            <div class="setting-card">
                <h3>Data Management</h3>
                <p>Export your data to a JSON file or import from one.</p>
                <div class="io-buttons">
                    <button id="export-json-btn" class="button-secondary">Export JSON</button>
                    <label for="import-json-input" class="button-secondary">Import JSON</label>
                    <input type="file" id="import-json-input" accept=".json" hidden>
                </div>
            </div>
        </section>

        <section id="about" class="content-section" hidden>
            <h2>About</h2>
            <p>This application was built with vanilla HTML, CSS, and JavaScript to demonstrate responsive design, accessibility, and modern JS practices.</p>
            <p><strong>Developer:</strong> Terance Bana</p>
            <p><strong>GitHub:</strong> <a href="https://github.com/your-username" target="_blank" rel="noopener noreferrer">your-username</a></p>
        </section>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 Student Finance Tracker</p>
    </footer>

    <div id="transaction-modal" class="modal" hidden>
        <div class="modal-content" role="dialog" aria-labelledby="modal-title" aria-modal="true">
            <button class="modal-close-btn" aria-label="Close dialog">&times;</button>
            <h2 id="modal-title">Add Transaction</h2>
            <form id="transaction-form" novalidate>
                <input type="hidden" id="transaction-id">
                <div class="form-group">
                    <label for="description">Description</label>
                    <input type="text" id="description" required>
                    <p class="error-message" aria-live="polite"></p>
                </div>
                <div class="form-group">
                    <label for="amount">Amount ($)</label>
                    <input type="number" id="amount" step="0.01" min="0" required>
                    <p class="error-message" aria-live="polite"></p>
                </div>
                <div class="form-group">
                    <label for="category">Category</label>
                    <select id="category" required>
                        <option value="Food">Food</option>
                        <option value="Books">Books</option>
                        <option value="Transport">Transport</option>
                        <option value="Entertainment">Entertainment</option>
                        <option value="Fees">Fees</option>
                        <option value="Other">Other</option>
                    </select>
                     <p class="error-message" aria-live="polite"></p>
                </div>
                <div class="form-group">
                    <label for="date">Date</label>
                    <input type="date" id="date" required>
                    <p class="error-message" aria-live="polite"></p>
                </div>
                <button type="submit" class="button-primary">Save Transaction</button>
            </form>
        </div>
    </div>
    
    <div id="status-message" role="status" aria-live="assertive" class="visually-hidden"></div>
</body>
</html>